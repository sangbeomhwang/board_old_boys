<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ item.idx }}ë²ˆì§¸ ê¸€ì…ë‹ˆë‹¤</title>
  <script src="https://cdn.jsdelivr.net/npm/marked@3.0.7/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/he@1.2.0/he.min.js"></script>
  <link rel="stylesheet" href="/css/view.css">
</head>

<body>
  <form action="" id="viewFrm">
    <div id="article">
      <div class="subject_div">
        <span>ì œëª© : </span>
        <span class="article_subject">{{ item.subject }}</span>
      </div>
      <div id="article-info">
        <div>
          <span>ì‘ì„±ì : </span>
          <span class="article_writer">{{ item.writer }}</span>
        </div>
        <span>ì‘ì„±ì¼ : </span>
        <span class="article_date">{{ item.register_date }}</span>
        <span>ì¡°íšŒìˆ˜ : </span>
        <span class="article_hit">{{ item.hit }}</span>
      </div>
      <div>
        <span class="article_content" id="parsedText"></span>
      </div>
    </div>
  </form>
  <div class="btnBox">
    <!-- <form action="/board/delete?index={{ item.idx }}" method="post"> -->
      <button type="button" class="prev" id="prev">ì´ì „ ê¸€</button>
      <button type="button" class="next" id="next">ë‹¤ìŒ ê¸€</button>
      <button type="button" class="modify">
        <a href="/board/modify?index={{ item.idx }}">ìˆ˜ì •í•˜ê¸°</a>
      </button>
      <!-- <button type="submit" class="delete" name="delete">ì‚­ì œí•˜ê¸°</button> -->
      <button class="delete" name="delete"><a href="/board/delete?index={{ item.idx }}">ì‚­ì œí•˜ê¸°</a></button>      <button type="button">
        <a href="/board/list?index=0">ëª©ë¡ ë³´ê¸°</a>
      </button>
    <!-- </form> -->
  </div>
  <div class="commentBox">
    <div class="commentList">
        {% for cl in item.comments %}
        <ul>
          <li>{{cl.commenter}}</li>
          <li>{{cl.comment}}</li>
          <li class="comment_date">{{cl.register_date}}</li>
          <li><form action="/board/delete?index={{ item.idx }}" method="post">
            <input type="hidden" name="comment_idx" value="{{ cl.idx }}" />
            <button type="submit" class="comment_delete" name="delete">ğŸ†‡</button>
          </form></li>
        </ul>
      {% endfor %}
      <p class="commentLength">ì´ {{ item.comments|length }}ê°œì˜ ëŒ“ê¸€</p>
    </div>
    <form action="/board/view?index={{ item.idx }}" method="post">
      <div>
        <input type="hidden" name="commenter" />
        <textarea name="comment" style="height: 70px;" placeholder="ëŒ“ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”"></textarea>
        <button type="submit">ëŒ“ê¸€ ì‘ì„±</button>
      </div>
    </form>
  </div>
  <script>
    const initialValue = '{{ item.content }}';
    const parsedElement = document.getElementById('parsedText');
    parsedElement.innerHTML = marked(he.decode(initialValue));
  </script>
</body>
</script>

<input type="hidden" id="prevIdx" value="{{ prevIdx }}" />
<input type="hidden" id="nextIdx" value="{{ nextIdx }}" />
<script src="/js/view.js"></script>
</body>

</html>